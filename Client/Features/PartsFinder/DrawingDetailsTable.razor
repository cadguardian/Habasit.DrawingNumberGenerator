@using DNG.Library.Data
@using DNG.Library.Models

@inject IDrawingNumber DrawingNumber
@inject IDrawingRequest DrawingRequest

<div class="card mb-3 mt-4">
    <div class="card-header"><i class="fa-solid fa-barcode"></i>  Drawing Details</div>
    <button class="btn btn-sm btn-primary no-print" @onclick="RefreshData">Refresh</button>
    <div class="card-body d-flex align-items-center justify-content-center p-0">
        <table class="table table-sm table-hover table-bordered table-striped" style="font-size: 0.9em;">
            <thead class="table-light">
                <tr>
                    <th scope="col" aria-label="Attribute" data-label="Attribute">Attribute</th>
                    <th scope="col" aria-label="Drawing Request" data-label="Drawing Request">Drawing Request</th>
                    <th scope="col" aria-label="Drawing Code" data-label="Drawing Code">Drawing Code</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Type</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.BeltType) ? "❌" : DrawingRequest.BeltType)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.BeltTypeCode) ? "❌" : DrawingNumber.BeltTypeCode)</td>
                </tr>
                <tr>
                    <td>Series</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.BeltSeries) ? "❌" : DrawingRequest.BeltSeries)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.BeltSeriesCode) ? "❌" : DrawingNumber.BeltSeriesCode)</td>
                </tr>
                <tr>
                    <td>Color</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.Color) ? "❌" : DrawingRequest.Color)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.ColorCode) ? "❌" : DrawingNumber.ColorCode)</td>
                </tr>
                <tr>
                    <td>Material</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.Material) ? "❌" : DrawingRequest.Material)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.MaterialCode) ? "❌" : DrawingNumber.MaterialCode)</td>
                </tr>
                <tr>
                    <td>Adder Material</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.AdderMaterial) ? "❌" : DrawingRequest.AdderMaterial)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.AdderMaterialCode) ? "❌" : DrawingNumber.AdderMaterialCode)</td>
                </tr>
                <tr>
                    <td>Rod</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.RodMaterial) ? "❌" : DrawingRequest.RodMaterial)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.RodMaterialCode) ? "❌" : DrawingNumber.RodMaterialCode)</td>
                </tr>
                <tr>
                    <td>Belt Width</td>
                    <td>@DrawingRequest.BeltWidth</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.BeltWidthCode) ? "❌" : DrawingNumber.BeltWidthCode)</td>
                </tr>
                <tr>
                    <td>Flights Rollers Grip</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.FlightsRollersGrip) ? "❌" : DrawingRequest.FlightsRollersGrip)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.FlightsRollersGripsCode) ? "❌" : DrawingNumber.FlightsRollersGripsCode)</td>
                </tr>
                <tr>
                    <td>Qty Rollers Across Width</td>
                    <td>@DrawingRequest.QtyRollersAcrossWidth</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.QtyRollersAcrossWidth) ? "❌" : DrawingNumber.QtyRollersAcrossWidth)</td>
                </tr>
                <tr>
                    <td>FRG Centers</td>
                    <td>@DrawingRequest.FRGCenters</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.FRGCenters) ? "❌" : DrawingNumber.FRGCenters)</td>
                </tr>
                <tr>
                    <td>Belt Accessories</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.BeltAccessories) ? "❌" : DrawingRequest.BeltAccessories)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.BeltAccessoriesCode) ? "❌" : DrawingNumber.BeltAccessoriesCode)</td>
                </tr>
                <tr>
                    <td>Friction/Anti Static</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.FrictionAntiStatic) ? "❌" : DrawingRequest.FrictionAntiStatic)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.FrictionAntiStaticCode) ? "❌" : DrawingNumber.FrictionAntiStaticCode)</td>
                </tr>
                <tr>
                    <td>Side-PL/Lane-DV</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.SidePLLaneDV) ? "❌" : DrawingRequest.SidePLLaneDV)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.SidePLLaneDVCode) ? "❌" : DrawingNumber.SidePLLaneDVCode)</td>
                </tr>
                <tr>
                    <td>Unique Identification</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.UniqueIdentification) ? "❌" : DrawingRequest.UniqueIdentification)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.UniqueIdentification) ? "❌" : DrawingNumber.UniqueIdentification)</td>
                </tr>
                <tr>
                    <td>Indent Code</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingRequest.IndentCode) ? "❌" : DrawingRequest.IndentCode)</td>
                    <td>@(string.IsNullOrWhiteSpace(DrawingNumber.IndentCode) ? "❌" : DrawingNumber.IndentCode)</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

@code {
    private async Task RefreshData()
    {
        // Call methods to reload DrawingRequest and DrawingNumber data as needed
        StateHasChanged(); // Forces UI refresh
    }
}