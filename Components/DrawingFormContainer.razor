@page "/drawing-form"
@using DNG.Library.Data
@using DNG.Library.Models
@inject IDrawingNumber DrawingNumber

@* The state of whether the form is shown or hidden *@
@code {
    private bool isFormVisible = true;
    [Parameter] public RenderFragment FormContent { get; set; }

    [Parameter] public DrawingRequest drawingRequest { get; set; } = new DrawingRequest();


    // Dummy method to simulate setting of the drawing number (you would set this based on user inputs)
    private void GenerateDrawingNumber()
    {
      
    }
}

<div class="container-fluid">
    @if (isFormVisible)
    {
        <div class="container">
            <div class="col-12 d-flex justify-content-center align-items-center mb-4">
                <button type="button" class="btn btn-outline-secondary" @onclick="() => { GenerateDrawingNumber(); isFormVisible = false; }">
                    Summarize & Hide Form
                </button>
        </div>
           
            @FormContent
        </div>
    }
    else
    {
        <div class="summary-dashboard">
            <h3>Data Summary Dashboard</h3>
            <div class="row">
                <!-- DrawingRequest fields on the left -->
                <div class="col-md-6">
                    <h5>Drawing Request</h5>
                    <ul class="list-unstyled">
                        <li><strong>Belt Type:</strong> @drawingRequest.BeltType</li>
                        <li><strong>Belt Series:</strong> @drawingRequest.BeltSeries</li>
                        <li><strong>Color:</strong> @drawingRequest.Color</li>
                        <li><strong>Material:</strong> @drawingRequest.Material</li>
                        <li><strong>Adder Material:</strong> @drawingRequest.AdderMaterial</li>
                        <li><strong>Rod Material:</strong> @drawingRequest.RodMaterial</li>
                        <li><strong>Belt Width:</strong> @drawingRequest.BeltWidth</li>
                        <li><strong>Flights Rollers Grip:</strong> @drawingRequest.FlightsRollersGrip</li>
                        <li><strong>Qty Rollers Across Width:</strong> @drawingRequest.QtyRollersAcrossWidth</li>
                        

                        <li><strong>FRG Centers:</strong> @drawingRequest.FRGCenters</li>
                        
                        <li><strong>Belt Accessories:</strong> @drawingRequest.BeltAccessories</li>
                        <li><strong>Friction/Anti Static:</strong> @drawingRequest.FrictionAntiStatic</li>
                        <li><strong>Side-PL/Lane-DV:</strong> @drawingRequest.SidePLLaneDV</li>
                        <li><strong>Unique Identification:</strong> @drawingRequest.UniqueIdentification</li>
                        <li><strong>Indent Code:</strong> @drawingRequest.IndentCode</li>

                    </ul>
                </div>

                <!-- DrawingNumber fields on the right -->
                <div class="col-md-6">
                    <h5>Drawing Code</h5>
                    <ul class="list-unstyled">
                        <li><strong>Belt Type Code:</strong> @DrawingNumber.BeltTypeCode</li>
                        <li><strong>Belt Series Code:</strong> @DrawingNumber.BeltSeriesCode</li>
                        <li><strong>Color Code:</strong> @DrawingNumber.ColorCode</li>
                        <li><strong>Material Code:</strong> @DrawingNumber.MaterialCode</li>
                        <li><strong>Adder Material Code:</strong> @DrawingNumber.AdderMaterialCode</li>
                        <li><strong>Rod Material Code:</strong> @DrawingNumber.RodMaterialCode</li>
                        <li><strong>Belt Width Code:</strong> @DrawingNumber.BeltWidthCode</li>
                        <li><strong>Flights Rollers Grips Code:</strong> @DrawingNumber.FlightsRollersGripsCode</li>
                        <li><strong>Qty Rollers Across Width:</strong> @DrawingNumber.QtyRollersAcrossWidth</li>
                        <li><strong>FRG Centers:</strong> @DrawingNumber.FRGCenters</li>
                        <li><strong>Belt Accessories Code:</strong> @DrawingNumber.BeltAccessoriesCode</li>
                        <li><strong>Friction/Anti Static Code:</strong> @DrawingNumber.FrictionAntiStaticCode</li>
                        
                        <li><strong>Side-PL/Lane-DV Code:</strong> @DrawingNumber.SidePLLaneDVCode</li>
                        <li><strong>Unique Identification:</strong> @DrawingNumber.UniqueIdentification</li>
                        <li><strong>Indent Code:</strong> @DrawingNumber.IndentCode</li>

                    </ul>
                </div>
            </div>

            <button type="button" class="btn btn-secondary" @onclick="() => isFormVisible = true">Edit Form</button>
        </div>
    }
</div>

<style>
    .form-container {
        border: 1px solid #ccc;
        padding: 15px;
        margin: 10px 0;
        border-radius: 5px;
    }

    .summary-dashboard {
        border: 1px solid #ccc;
        padding: 15px;
        margin: 10px 0;
        border-radius: 5px;
        background-color: #f8f9fa;
    }

    .summary-dashboard h5 {
        font-size: 0.9rem;
    }

    .summary-dashboard ul {
        font-size: 0.8rem;
    }


    .col-md-6 {
        margin-bottom: 15px;
    }
</style>
